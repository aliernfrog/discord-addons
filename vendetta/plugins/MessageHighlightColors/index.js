(function(d,p,c,s,u,o,R,g,C){"use strict";const{FormInput:b,FormRow:k,FormSection:f,FormText:B}=g.Forms,{ScrollView:E}=g.General,y=[{label:"Pending reply bar color",key:"replyBarColor",default:"#949cf7"},{label:"Pending reply background color",key:"replyBgColor",default:"#949cf730"},{label:"Pending edit bar color",key:"editBarColor",default:"#00aa5d"},{label:"Pending edit background color",key:"editBgColor",default:"#00aa5d30"}],v=function(e){return y.forEach(function(t){e&&delete o.storage[t.key],o.storage[t.key]??=t.default})};v();function F(){return R.useProxy(o.storage),React.createElement(E,null,React.createElement(f,{title:"Colors",titleStyleType:"no_border"},React.createElement(s.ReactNative.FlatList,{data:y,renderItem:function(e){let{item:t}=e;return React.createElement(b,{title:t.label,placeholder:"#RRGGBBAA",value:o.storage[t.key],onChange:function(r){return o.storage[t.key]=r}})}}),React.createElement(B,{style:{paddingHorizontal:14}},"Leave empty to use Discord colors")),React.createElement(f,{title:"Misc"},React.createElement(k,{label:"Restore plugin defaults",onPress:function(){v(),C.showToast("Restored plugin defaults.")}})))}const w=c.findByName("ChatInput"),P=c.findByName("RowManager");let m;const N=[u.after("generate",P.prototype,function(e,t){let[r]=e;var l;if(r.rowType!==1)return;let a,n;m==((l=r.message)===null||l===void 0?void 0:l.id)?(a=o.storage.replyBarColor,n=o.storage.replyBgColor):r.isEditing&&(a=o.storage.editBarColor,n=o.storage.editBgColor);try{h(a)&&(t.backgroundHighlight.gutterColor=s.ReactNative.processColor(a)),h(n)&&(t.backgroundHighlight.backgroundColor=s.ReactNative.processColor(n))}catch{var i;p.logger.error(`Failed to set highlight colors for message ${(i=r.message)===null||i===void 0?void 0:i.id}`)}}),u.after("render",w.prototype,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var l,a,n,i;m=(i=t[1].props.children[1])===null||i===void 0||(n=i.props)===null||n===void 0||(a=n.pendingReply)===null||a===void 0||(l=a.message)===null||l===void 0?void 0:l.id})],T=function(){return N.forEach(function(e){return e()})},A=F;function h(e){return!e?.startsWith("#")||e?.length<7?null:e}return d.onUnload=T,d.settings=A,d})({},vendetta,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components,vendetta.ui.toasts);
