(function(n,a,o,e,s,h){"use strict";const{FormSwitchRow:c}=s.Forms,{ScrollView:u}=s.General;function b(){return h.useProxy(o.storage),React.createElement(u,null,React.createElement(c,{label:"Disable AMOLED theme when light theme is enabled",subLabel:"AMOLED + light theme causes issues on 174.6 and above.",value:o.storage.disableWhenLight,onValueChange:function(t){o.storage.disableWhenLight=t}}))}const g=a.findByProps("setAMOLEDThemeEnabled"),m=a.findByStoreName("ThemeStore"),E=a.findByStoreName("UnsyncedUserSettingsStore");var L={onLoad:function(){try{o.storage.disableWhenLight??=!0;const t=m.theme||"dark",i=E.useAMOLEDTheme,l=t=="dark",r=i==2,d=o.storage.disableWhenLight;e.logger.log(`Current theme: ${t}, dark mode: ${l}`),e.logger.log(`AMOLED value: ${i}, enabled: ${r}`),e.logger.log(`Disable when light: ${d}`),l&&!r?(e.logger.log("Enabling AMOLED"),g.setAMOLEDThemeEnabled(!0)):!l&&r&&d?(e.logger.log("Disabling AMOLED since dark theme is not enabled"),g.setAMOLEDThemeEnabled(!1)):e.logger.log("No need to change preferences")}catch(t){e.logger.error("Failed to load AutomaticAmoled",t)}},settings:b};return n.default=L,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.plugin,vendetta,vendetta.ui.components,vendetta.storage);
